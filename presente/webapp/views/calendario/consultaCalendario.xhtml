<html xmlns="http://www.w3.org/1999/xhtml"  
    xmlns:h="http://java.sun.com/jsf/html"  
    xmlns:f="http://java.sun.com/jsf/core"  
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui">  
  
<ui:composition template="../layout/template.xhtml">  
    <ui:define name="corpo">  
		<p:panel header="#{lbl.consultarCalendarioEscolar}" closable="true">
		
		<h:form id="frmConsulta">
		
			<p:messages autoUpdate="true" />
		    
		    <p:focus context="painel"/>
		    
	  		<h:panelGrid
	  			id="painel"
				columns="2" 
				cellspacing="4"
				columnClasses="panelGridRight,panelGridLeft">
				
			    <h:outputLabel for="descricao" value="#{lbl.descricao}:" />  
			    <p:inputText id="descricao" size="50" maxlength="100" value="#{calendarioEscolarMB.calendarioEscolar.descricao}" label="#{lbl.descricao}"/>
			    
			    <h:outputLabel for="data" value="#{lbl.data}:" />  
			    <p:calendar navigator="true" value="#{calendarioEscolarMB.calendarioEscolar.data}" id="data" label="#{lbl.data}" showOn="button" pattern="dd/MM/yyyy" locale="pt_BR"/>
			  
			  	<h:outputText value="#{lbl.dataRecorrente}?" />  
			  	<p:column>
			  		<h:panelGrid columns="2">
			  			<h:column>
					        <p:selectOneRadio value="#{calendarioEscolarMB.calendarioEscolar.recorrente}" label="#{lbl.dataRecorrente}">  
					            <f:selectItem itemLabel="#{lbl.sim}" itemValue="true" />  
					            <f:selectItem itemLabel="#{lbl.nao}" itemValue="false" />  
					        </p:selectOneRadio>
					    </h:column>
					    <h:column>
					        <h:outputLabel value=" " /><h:graphicImage library="img/16x16" name="help.png" title="#{msg.MSG043}"/>
					    </h:column>
			        </h:panelGrid>
			    </p:column>   
			    
			    <h:outputText value="#{lbl.dataAula}?" />  
			   	<p:column>
			   		<h:panelGrid columns="2">
			  			<h:column>
					        <p:selectOneRadio value="#{calendarioEscolarMB.calendarioEscolar.status}" label="#{lbl.dataAula}">  
					            <f:selectItem itemLabel="#{lbl.sim}" itemValue="1" />  
					            <f:selectItem itemLabel="#{lbl.nao}" itemValue="2" />  
					        </p:selectOneRadio>
					    </h:column>
						<h:column>    
					    	<h:outputLabel value=" " /><h:graphicImage library="img/16x16" name="help.png" title="#{msg.MSG042}"/>
					    </h:column>
					</h:panelGrid>
			    </p:column>   
		        
			</h:panelGrid>

			<p:separator></p:separator>
			
			<p:commandButton 
				value="#{lbl.consultar}"
				icon="ui-icon-search" 
				actionListener="#{calendarioEscolarMB.consultar}" 
				update="frmConsulta"/>
				
			<p:separator></p:separator>
			
			<!-- LISTA -->
				
			<p:dataTable 
				id="dataTable" 
				var="calendarioEscolar" 
				value="#{calendarioEscolarMB.calendarioEscolares}" 
				paginator="true"
				rows="10"
				emptyMessage="#{msg.MSG001}">  
	  
		        <p:column headerText="#{lbl.descricao}">  
		            <h:outputText value="#{calendarioEscolar.descricao}" />  
		        </p:column>
		        
		        <p:column headerText="#{lbl.data}">  
		            <h:outputText value="#{calendarioEscolar.data}" converter="dataDiaSemanaConverter"/>  
		        </p:column>
		        
		        <p:column headerText="#{lbl.dataRecorrente}">  
		            <h:outputText value="#{calendarioEscolar.recorrente}" converter="simNaoConverter"/>  
		        </p:column>
		        
		        <p:column headerText="#{lbl.dataAula}">  
		            <h:outputText value="#{calendarioEscolar.status}" converter="simNaoDataAulaConverter"/>  
		        </p:column>
		        
		        <p:column 
					headerText="#{lbl.opcoes}" 
					style="width: 150px">
					<center>
			            <p:commandButton icon="ui-icon-folder-open" title="#{lbl.visualizarCadastro}" actionListener="#{calendarioEscolarMB.alterar}"/>
			            <!-- 
			            <p:commandButton icon="ui-icon-trash" onclick="PF('confirmaExcluir').show()">
			            	<f:setPropertyActionListener target="#{calendarioEscolarMB.calendarioEscolarSelecionado}" value="#{calendarioEscolar}"></f:setPropertyActionListener>
			            </p:commandButton>
			             -->
		            </center> 
		        </p:column>
		        
		        <f:facet name="footer">
		        	<h:outputLabel rendered="#{calendarioEscolarMB.calendarioEscolares.rowCount gt 0}" value="#{calendarioEscolarMB.calendarioEscolares.rowCount}"/>
		        	<h:outputLabel rendered="#{calendarioEscolarMB.calendarioEscolares.rowCount gt 0}" value=" #{msg.MSG041}"/>
		        </f:facet>
		  
		    </p:dataTable>
		    
	    	<!-- CAIXA DE DIALOGO -->
			
			<p:confirmDialog 
				message="#{msg.MSG002}"  
                header="#{lbl.excluirRegistro}" 
                severity="alert" 
                widgetVar="confirmaExcluir">  
		        <p:commandButton 
		        	value="#{lbl.sim}"
		        	actionListener="#{calendarioEscolarMB.excluir}" 
		        	ajax="false"
		        	oncomplete="PF('confirmaExcluir').hide()"/>
		        	
		        <p:commandButton
		        	value="#{lbl.nao}" 
		        	onclick="PF('confirmaExcluir').hide()" 
		        	type="button" />   
		    </p:confirmDialog> 	
			
		</h:form>
			
	    </p:panel>
    </ui:define>  
</ui:composition>  
</html> 