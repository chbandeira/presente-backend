<html xmlns="http://www.w3.org/1999/xhtml"  
    xmlns:h="http://java.sun.com/jsf/html"  
    xmlns:f="http://java.sun.com/jsf/core"  
    xmlns:ui="http://java.sun.com/jsf/facelets"  
    xmlns:p="http://primefaces.org/ui">  
  
<ui:composition template="../layout/template.xhtml">  
    <ui:define name="corpo">  
		<p:panel header="#{lbl.cadastroUsuario}" closable="true">
			
			<h:form id="frmCadastro">
		    
		    <p:messages autoUpdate="true" />
		    
		    <p:focus context="painel"/>
		    
	  		<h:panelGrid 
	  			id="painel"
				columns="2" 
				cellspacing="4"
				columnClasses="panelGridRight,panelGridLeft">
				
			    <h:outputLabel for="nome" value="* #{lbl.nome}:" />  
			    <p:inputText id="nome" maxlength="50" value="#{usuarioMB.usuario.nome}" label="#{lbl.nome}" size="50" required="true"/> 
			    
			    <h:outputLabel for="login" value="* #{lbl.usuario}:" />  
			    <p:inputText id="login" disabled="#{usuarioMB.desabilitarAlteracao}" maxlength="20" value="#{usuarioMB.usuario.login}" label="#{lbl.usuario}" size="20" required="true"/>
			    
			    <h:outputLabel for="senha" value="* #{lbl.senha}:" />
			   	<p:password 
					id="senha"
					value="#{usuarioMB.usuario.senha}"
					maxlength="20" 
					size="20" 
					match="confirmarSenha"
					feedback="true"
					promptLabel="#{msg.MSG029}" 
					weakLabel="#{msg.MSG030}"  
           			goodLabel="#{msg.MSG031}" 
           			strongLabel="#{msg.MSG032}"
					required="true"
					validatorMessage="#{msg.MSG033}"
					label="#{lbl.senha}"/>
					
				<h:outputLabel for="confirmarSenha" value="* #{lbl.confirmarSenha}:" />
				<p:password 
					id="confirmarSenha" 
					maxlength="20" 
					size="20"
					required="true"
					label="#{lbl.confirmarSenha}"/>
					
				<h:outputText value="#{lbl.perfil}: " />  
		        <p:selectOneMenu value="#{usuarioMB.perfil}" label="#{lbl.perfil}" converter="perfilConverter">  
		            <f:selectItem itemLabel="#{lbl.selecione}" itemValue="" itemDisabled="true"/>  
		            <f:selectItems value="#{usuarioMB.perfis}" var="perfil" itemLabel="#{perfil.nome}" itemValue="#{perfil}"></f:selectItems>
		        </p:selectOneMenu>
			    
			</h:panelGrid>
			
			<p:separator></p:separator>
			    
			<p:commandButton 
				value="#{lbl.salvar}"
				icon="ui-icon-check" 
				actionListener="#{usuarioMB.salvar}"
				update="frmCadastro"/>
				
			</h:form>
			
	    </p:panel>
    </ui:define>  
</ui:composition>  
</html> 